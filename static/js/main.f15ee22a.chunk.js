(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports={cover:"Playlist_cover__3U_7L"}},11:function(e,t,n){e.exports={container:"Card_container__M67NJ"}},12:function(e,t,n){e.exports={backdrop:"Modal_backdrop__3VE3C"}},13:function(e,t,n){e.exports=n(32)},19:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(7),o=n.n(c),s=(n(19),n(1)),u=n.n(s),i=n(2),l=n(3),p=n(8),f=n.n(p),d=n(5),m=n.n(d),b=0,v=1,h=n(4),w=n.n(h),_=function(e){var t=e.setSelected;return r.a.createElement("header",{className:w.a.header},r.a.createElement("button",{className:w.a.button,onClick:function(){return t(b)}},"Featured"),r.a.createElement("button",{className:w.a.button,onClick:function(){return t(v)}},"Personal"))},k=n(9),j=n.n(k),y=n(10),x=n.n(y),E=n(11),O=n.n(E),g=function(e){var t=e.children,n=e.containerClass;return r.a.createElement("div",{className:"".concat(n||""," ").concat(O.a.container)},t)},C=n(12),N=n.n(C),S=function(e){var t=e.children,n=e.open,a=e.onBackdropClick;return r.a.createElement("div",{className:N.a.backdrop,onClick:function(e){e.target===e.currentTarget&&a()},style:n?{}:{display:"none"}},t)},F=function(e){var t=e.href,n=e.load,c=Object(a.useState)(null),o=Object(l.a)(c,2),s=o[0],p=o[1],f=Object(a.useState)(!1),d=Object(l.a)(f,2),m=d[0],b=d[1],v=Object(a.useCallback)(Object(i.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),[t,n]);return Object(a.useEffect)(function(){var e=!1;return Object(i.a)(u.a.mark(function t(){var n,a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v();case 2:(n=t.sent)&&(n.status||(a=n,e||p(a)));case 4:case"end":return t.stop()}},t)}))(),function(){e=!0}},[v]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:x.a.cover,onClick:function(){return b(!0)},style:s?{backgroundImage:"url(".concat(s.images[0].url,")")}:{}}),r.a.createElement(S,{open:m,onBackdropClick:function(){return b(!1)}},r.a.createElement(g,null,s?s.name:"Loading!")))},B=function(e){var t=e.getSimple,n=e.getFull,c=Object(a.useState)(null),o=Object(l.a)(c,2),s=o[0],p=o[1];return Object(a.useEffect)(function(){var e=!1;return Object(i.a)(u.a.mark(function n(){var a,r;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t();case 2:(a=n.sent)&&(a.status||(r=a,e||p(r)));case 4:case"end":return n.stop()}},n)}))(),function(){e=!0}},[t]),r.a.createElement("div",{className:j.a.container},(s?s.items:[]).map(function(e){return r.a.createElement(F,{key:e.id,href:e.href,load:n})}))};function J(e,t){return T.apply(this,arguments)}function T(){return(T=Object(i.a)(u.a.mark(function e(t,n){var a,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=14;break}return e.prev=1,e.next=4,fetch(t,{method:"GET",headers:[["Authorization","Bearer ".concat(n)]]});case 4:return a=e.sent,e.next=7,a.json();case 7:return r=e.sent,e.abrupt("return",(a.status,r));case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}},e,null,[[1,11]])}))).apply(this,arguments)}var H=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(b),s=Object(l.a)(o,2),p=s[0],d=s[1];Object(a.useEffect)(function(){var e=!1,t=null;if(!n){var a=f.a.parse(window.location.hash);if(a.access_token){var r=a;e||(c(r.access_token),t=setTimeout(function(){return c(null)},1e3*Number(r.expires_in))),window.location.hash=""}else window.location.assign(function(e){var t=e.client_id,n=e.redirect_uri,a=e.response_type,r=e.scopes,c=e.show_dialog,o=e.state;return"https://accounts.spotify.com/authorize?client_id=".concat(t,"&redirect_uri=").concat(encodeURIComponent(n),"&scope=").concat(r?r.join(" "):"","&response_type=").concat(a,"&state=").concat(o||"","&show_dialog=").concat(c||"false")}({client_id:"7ff4c2742b1d4e91b297c2ef6bf8d041",redirect_uri:"https://player.kmr.pw",response_type:"token",scopes:["streaming","user-read-birthdate","user-read-email","user-read-private","playlist-read-private"]}))}return function(){e=!0,t&&clearTimeout(t)}},[n]);var h=Object(a.useCallback)(Object(i.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("https://api.spotify.com/v1/browse/featured-playlists",n);case 2:return t=e.sent,e.abrupt("return",t?t.status?t:t.playlists:null);case 4:case"end":return e.stop()}},e)})),[n]),w=Object(a.useCallback)(function(){var e=Object(i.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[n]),k=Object(a.useCallback)(Object(i.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("https://api.spotify.com/v1/me/playlists",n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),[n]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{setSelected:d}),r.a.createElement("section",{className:m.a.section,style:p===b?{}:{display:"none"}},r.a.createElement(B,{getSimple:h,getFull:w})),r.a.createElement("section",{className:m.a.section,style:p===v?{}:{display:"none"}},r.a.createElement(B,{getSimple:k,getFull:w})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},4:function(e,t,n){e.exports={header:"Header_header__2kr8J",button:"Header_button__w7eHc"}},5:function(e,t,n){e.exports={section:"App_section__1vvt6"}},9:function(e,t,n){e.exports={container:"PlaylistList_container__2Wtta"}}},[[13,1,2]]]);
//# sourceMappingURL=main.f15ee22a.chunk.js.map