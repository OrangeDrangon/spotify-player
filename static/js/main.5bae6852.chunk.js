(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(5),o=n.n(c),s=(n(15),n(1)),u=n.n(s),i=n(2),l=n(3),p=n(6),f=n.n(p),d=n(7),b=n.n(d),v=n(8),m=n.n(v),h=function(e){var t=e.load,n=Object(r.useState)(null),c=Object(l.a)(n,2),o=c[0],s=c[1];return Object(r.useEffect)(function(){var e=!1;return Object(i.a)(u.a.mark(function n(){var r,a;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t();case 2:(r=n.sent)&&(r.status||(a=r,e||s(a)));case 4:case"end":return n.stop()}},n)}))(),function(){e=!0}},[t]),a.a.createElement("div",{className:m.a.cover,style:o?{backgroundImage:"url(".concat(o.images[0].url,")")}:{backgroundColor:"#494949"},onClick:function(){return console.log(o)}})},w=function(e){var t=e.getFeatured,n=e.getPlaylist,c=Object(r.useState)(null),o=Object(l.a)(c,2),s=o[0],p=o[1];return Object(r.useEffect)(function(){var e=!1;return Object(i.a)(u.a.mark(function n(){var r,a;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t();case 2:(r=n.sent)&&(r.status||(a=r,e||p(a)));case 4:case"end":return n.stop()}},n)}))(),function(){e=!0}},[t]),a.a.createElement("div",{className:b.a.container},(s?s.playlists.items:[]).map(function(e){return a.a.createElement(h,{key:e.id,load:function(){return n(e.href)}})}))};function k(e,t){return _.apply(this,arguments)}function _(){return(_=Object(i.a)(u.a.mark(function e(t,n){var r,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"GET",headers:[["Authorization","Bearer ".concat(n)]]});case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",(r.status,a));case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}},e,null,[[0,10]])}))).apply(this,arguments)}var g=function(){var e=Object(r.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1];Object(r.useEffect)(function(){var e=!1,t=null;if(!n){var r=f.a.parse(window.location.hash);if(r.access_token){var a=r;e||(c(a.access_token),t=setTimeout(function(){return c(null)},1e3*Number(a.expires_in))),window.location.hash=""}else window.location.assign(function(e){var t=e.client_id,n=e.redirect_uri,r=e.response_type,a=e.scopes,c=e.show_dialog,o=e.state;return"https://accounts.spotify.com/authorize?client_id=".concat(t,"&redirect_uri=").concat(encodeURIComponent(n),"&scope=").concat(a?a.join(" "):"","&response_type=").concat(r,"&state=").concat(o||"","&show_dialog=").concat(c||"false")}({client_id:"7ff4c2742b1d4e91b297c2ef6bf8d041",redirect_uri:"https://player.kmr.pw",response_type:"token",scopes:["streaming","user-read-birthdate","user-read-email","user-read-private"]}))}return function(){e=!0,t&&clearTimeout(t)}},[n]);var o=Object(r.useCallback)(Object(i.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}return e.next=3,k("https://api.spotify.com/v1/browse/featured-playlists",n);case 3:return e.abrupt("return",e.sent);case 4:return e.abrupt("return",null);case 5:case"end":return e.stop()}},e)})),[n]),s=Object(r.useCallback)(function(){var e=Object(i.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}return e.next=3,k(t,n);case 3:return e.abrupt("return",e.sent);case 4:return e.abrupt("return",null);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[n]);return a.a.createElement("div",null,a.a.createElement(w,{getFeatured:o,getPlaylist:s}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},7:function(e,t,n){e.exports={container:"Featured_container__3RrQr"}},8:function(e,t,n){e.exports={cover:"Playlist_cover__3U_7L"}},9:function(e,t,n){e.exports=n(28)}},[[9,1,2]]]);
//# sourceMappingURL=main.5bae6852.chunk.js.map