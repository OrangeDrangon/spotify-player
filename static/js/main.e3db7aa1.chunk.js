(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,function(e,t,a){e.exports={cover:"Playlist_cover__3U_7L",card:"Playlist_card__3OMCF",close:"Playlist_close__3n1DV",header:"Playlist_header__3XXLq",title:"Playlist_title__3Fedx",description:"Playlist_description__2WzFR",createdBy:"Playlist_createdBy__3_wWb",author:"Playlist_author__27M0k"}},,function(e,t,a){e.exports={page:"App_page__14G2o",section:"App_section__1vvt6"}},function(e,t,a){e.exports={header:"Header_header__2kr8J",button:"Header_button__w7eHc"}},,,,function(e,t,a){e.exports={container:"PlaylistList_container__2Wtta"}},function(e,t,a){e.exports=a.p+"static/media/close.84e833e5.svg"},function(e,t,a){e.exports={container:"Card_container__M67NJ"}},function(e,t,a){e.exports={backdrop:"Modal_backdrop__3VE3C"}},function(e,t,a){e.exports=a(33)},,,,,,function(e,t,a){},,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),s=a.n(c),o=(a(20),a(1)),i=a.n(o),u=a(2),l=a(4),p=a(9),d=a.n(p),m=a(5),f=a.n(m),_=0,b=1,h=a(6),v=a.n(h),w=function(e){var t=e.setSelected;return r.a.createElement("header",{className:v.a.header},r.a.createElement("button",{className:v.a.button,onClick:function(){return t(_)}},"Featured"),r.a.createElement("button",{className:v.a.button,onClick:function(){return t(b)}},"Personal"))},y=a(10),k=a.n(y),E=a(3),g=a.n(E),x=a(11),j=a.n(x),O=a(12),C=a.n(O),N=function(e){var t=e.children,a=e.containerClass;return r.a.createElement("div",{className:"".concat(C.a.container," ").concat(a||"")},t)},F=a(13),P=a.n(F),S=function(e){var t=e.children,a=e.open,n=e.onBackdropClick;return r.a.createElement("div",{className:P.a.backdrop,onClick:function(e){e.target===e.currentTarget&&n()},style:a?{}:{display:"none"}},t)},B=function(e){var t,a=e.href,c=e.load,s=Object(n.useState)(null),o=Object(l.a)(s,2),p=o[0],d=o[1],m=Object(n.useState)(!1),f=Object(l.a)(m,2),_=f[0],b=f[1],h=Object(n.useCallback)(Object(u.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),[a,c]);return Object(n.useEffect)(function(){var e=!1;return Object(u.a)(i.a.mark(function t(){var a,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h();case 2:(a=t.sent)&&(a.status||(n=a,e||d(n)));case 4:case"end":return t.stop()}},t)}))(),function(){e=!0}},[h]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:g.a.cover,onClick:function(){return b(!0)},style:p?{backgroundImage:"url(".concat(p.images[0].url,")")}:{}}),r.a.createElement(S,{open:_,onBackdropClick:function(){return b(!1)}},r.a.createElement(N,{containerClass:g.a.card},r.a.createElement("img",{src:j.a,alt:"",className:g.a.close,onClick:function(){return b(!1)}}),p?r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:g.a.header},r.a.createElement("h1",{className:g.a.title},p.name),r.a.createElement("div",{className:g.a.createdBy},"Created by"," ",r.a.createElement("span",{className:g.a.author},p.owner.display_name)),r.a.createElement("div",{className:g.a.description},(t=p.description?p.description:"",(new DOMParser).parseFromString(t,"text/html").documentElement.textContent)))):"Loading...")))},M=function(e){var t=e.getSimple,a=e.getFull,c=Object(n.useState)(null),s=Object(l.a)(c,2),o=s[0],p=s[1];return Object(n.useEffect)(function(){var e=!1;return Object(u.a)(i.a.mark(function a(){var n,r;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t();case 2:(n=a.sent)&&(n.status||(r=n,e||p(r)));case 4:case"end":return a.stop()}},a)}))(),function(){e=!0}},[t]),r.a.createElement("div",{className:k.a.container},(o?o.items:[]).map(function(e){return r.a.createElement(B,{key:e.id,href:e.href,load:a})}))};function W(e,t){return J.apply(this,arguments)}function J(){return(J=Object(u.a)(i.a.mark(function e(t,a){var n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=14;break}return e.prev=1,e.next=4,fetch(t,{method:"GET",headers:[["Authorization","Bearer ".concat(a)]]});case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",(n.status,r));case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}},e,null,[[1,11]])}))).apply(this,arguments)}var L=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(_),o=Object(l.a)(s,2),p=o[0],m=o[1];Object(n.useEffect)(function(){var e=!1,t=null;if(!a){var n=d.a.parse(window.location.hash);if(n.access_token){var r=n;e||(c(r.access_token),t=setTimeout(function(){return c(null)},1e3*Number(r.expires_in))),window.location.hash=""}else window.location.assign(function(e){var t=e.client_id,a=e.redirect_uri,n=e.response_type,r=e.scopes,c=e.show_dialog,s=e.state;return"https://accounts.spotify.com/authorize?client_id=".concat(t,"&redirect_uri=").concat(encodeURIComponent(a),"&scope=").concat(r?r.join(" "):"","&response_type=").concat(n,"&state=").concat(s||"","&show_dialog=").concat(c||"false")}({client_id:"7ff4c2742b1d4e91b297c2ef6bf8d041",redirect_uri:"https://player.kmr.pw",response_type:"token",scopes:["streaming","user-read-birthdate","user-read-email","user-read-private","playlist-read-private"]}))}return function(){e=!0,t&&clearTimeout(t)}},[a]);var h=Object(n.useCallback)(Object(u.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W("https://api.spotify.com/v1/browse/featured-playlists",a);case 2:return t=e.sent,e.abrupt("return",t?t.status?t:t.playlists:null);case 4:case"end":return e.stop()}},e)})),[a]),v=Object(n.useCallback)(function(){var e=Object(u.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(t,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[a]),y=Object(n.useCallback)(Object(u.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W("https://api.spotify.com/v1/me/playlists",a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),[a]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{setSelected:m}),r.a.createElement("div",{className:f.a.page},r.a.createElement("section",{className:f.a.section,style:p===_?{}:{display:"none"}},r.a.createElement(M,{getSimple:h,getFull:v})),r.a.createElement("section",{className:f.a.section,style:p===b?{}:{display:"none"}},r.a.createElement(M,{getSimple:y,getFull:v}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[14,1,2]]]);
//# sourceMappingURL=main.e3db7aa1.chunk.js.map